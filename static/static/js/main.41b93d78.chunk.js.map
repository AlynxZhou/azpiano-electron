{"version":3,"sources":["Map.js","Log.js","Settings.js","Info.js","AudioPlayer.js","Base64Decoder.js","App.js","serviceWorker.js","index.js"],"names":["Block","Paper","className","this","props","pressed","upper","lower","React","Component","Map","block","y","x","length","codesChars","layoutParam","displayParam","notesDigits","Grid","item","xs","key","state","row","container","justify","spacing","wrap","map","renderBlock","layout","renderRow","bind","Log","TextField","value","join","variant","InputProps","fullWidth","rows","multiline","FormControlLabel","control","Switch","checked","enabled","color","onChange","onSwitchChange","label","Button","onClick","onSpaceClick","onReturnClick","onDeleteClick","onClearClick","onCopyClick","Settings","FormControl","InputLabel","id","Select","labelId","defaultValue","defaultDisplayValue","onDisplayChange","displayOptions","option","index","MenuItem","defaultLayoutValue","onLayoutChange","layoutOptions","Info","href","target","rel","title","AudioContext","window","webkitAudioContext","AudioPlayer","opts","context","gainNode","createGain","gain","connect","destination","sources","stopDelay","decodeAudioData","buffer","createBufferSource","start","currentTime","stop","pause","Base64Decoder","keyStr","input","i","charAt","substring","replace","chr1","chr2","chr3","enc2","enc3","enc4","bytes","removePaddingChars","ArrayBuffer","uarray","Uint8Array","j","indexOf","OGG_HEADER_LENGTH","App","decoder","searchParams","URLSearchParams","location","search","mapLayouts","defaultLayout","ctrlcapsLayout","hhkbLayout","jpLayout","dvorakLayout","has","get","mapLayout","updateMapLayout","notesBuffers","document","addEventListener","onKeyDown","onKeyUp","onVisibilityChange","removeEventListener","newPath","protocol","host","pathname","toString","history","replaceState","codesNotes","grid","event","visibilityState","player","pauseAll","setState","preventDefault","ready","code","repeat","note","logState","mapState","logEnabled","push","play","onStartClick","pop","dummy","createElement","body","appendChild","select","execCommand","removeChild","set","updateQueryString","then","totalLength","Object","keys","k","decode","Math","round","Container","maxWidth","LinearProgress","percent","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"mzMAOMA,G,uLAEF,OACE,kBAACC,EAAA,EAAD,CAAOC,UAAWC,KAAKC,MAAMC,QAAU,oBAAsB,QAC3D,0BAAMH,UAAU,cAAcC,KAAKC,MAAME,OACzC,6BACA,0BAAMJ,UAAU,cAAcC,KAAKC,MAAMG,Y,GAN7BC,IAAMC,YAgNXC,E,oLAnMDC,EAAOC,EAAGC,EAAGC,GACvB,IAAIR,EAAQS,EAAWJ,EAAM,IAE7B,GAA+B,OAA3BR,KAAKC,MAAMY,YACb,OAAQL,EAAM,IACZ,IAAK,QACHL,EAAQ,IACR,MACF,IAAK,cACHA,EAAQ,IACR,MACF,IAAK,eACHA,EAAQ,IACR,MACF,IAAK,QACHA,EAAQ,IACR,MACF,IAAK,YACHA,EAAQ,IAMd,IAAMC,EAAoC,UAA5BJ,KAAKC,MAAMa,aACrBC,EAAYP,EAAM,IAClBA,EAAM,GAOV,OAAU,IAANE,GAAWD,IAAME,EAAS,EACG,SAA3BX,KAAKC,MAAMY,YAGX,kBAACG,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAOpC,kBAACQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAKzB,IAANE,GAAiB,IAAND,EAGlB,kBAACO,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAIvB,IAANE,GAAWD,IAAME,EAAS,EACJ,OAA3BX,KAAKC,MAAMY,YAGX,kBAACG,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAOpC,kBAACQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAKzB,IAANE,GAAiB,IAAND,EAGlB,kBAACO,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAIvB,IAANE,GAAWD,IAAME,EAAS,EAEJ,OAA3BX,KAAKC,MAAMY,YAEX,kBAACG,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAMpC,kBAACQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAKzB,IAANE,GAAiB,IAAND,EAGlB,kBAACO,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAIvB,IAANE,GAAWD,IAAME,EAAS,EAGjC,kBAACK,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAIvB,IAANE,EAGP,kBAACM,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,OAOtC,kBAACQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGC,IAAKV,GACrB,kBAAC,EAAD,CACEN,MAAOA,EACPC,MAAOA,EACPF,QAASF,KAAKC,MAAMmB,MAAMZ,EAAM,S,gCAM9Ba,EAAKX,GAAI,IAAD,OAChB,OACE,kBAACM,EAAA,EAAD,CAAMM,WAAS,EAACC,QAAQ,SAASC,QAAS,EAAGC,KAAK,SAASN,IAAKT,GAC7DW,EAAIK,KAAI,SAAClB,EAAOC,GACf,OAAO,EAAKkB,YAAYnB,EAAOC,EAAGC,EAAGW,EAAIV,c,+BAO/C,OACE,yBAAKZ,UAAU,OACb,kBAACD,EAAA,EAAD,KACE,yBAAKC,UAAU,aACZC,KAAKC,MAAM2B,OAAOF,IAAI1B,KAAK6B,UAAUC,KAAK9B,c,GA5LrCK,IAAMC,W,oCCiETyB,G,uLA1EX,OACE,yBAAKhC,UAAU,OACb,kBAACD,EAAA,EAAD,KACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,YACb,kBAACiC,EAAA,EAAD,CACEC,MAAK,UAAKjC,KAAKC,MAAMmB,MAAMc,KAAK,IAA3B,KACLC,QAAQ,WACRC,WAAY,CAAC,UAAY,GACzBC,WAAS,EACTC,KAAK,IACLC,WAAS,KAGb,yBAAKxC,UAAU,eACb,yBAAKA,UAAU,YACb,kBAACyC,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,CACE3C,UAAU,aACV4C,QAAS3C,KAAKC,MAAM2C,QACpBC,MAAM,UACNC,SAAU9C,KAAKC,MAAM8C,iBAGzBC,MAAM,iBAGV,yBAAKjD,UAAU,YACb,kBAACkD,EAAA,EAAD,CACElD,UAAU,aACVoC,QAAQ,YACRe,QAASlD,KAAKC,MAAMkD,cAHtB,eAMF,yBAAKpD,UAAU,YACb,kBAACkD,EAAA,EAAD,CACElD,UAAU,aACVoC,QAAQ,YACRe,QAASlD,KAAKC,MAAMmD,eAHtB,gBAMF,yBAAKrD,UAAU,YACb,kBAACkD,EAAA,EAAD,CACElD,UAAU,aACVoC,QAAQ,YACRU,MAAM,YACNK,QAASlD,KAAKC,MAAMoD,eAJtB,gBAOF,yBAAKtD,UAAU,YACb,kBAACkD,EAAA,EAAD,CACElD,UAAU,aACVoC,QAAQ,YACRU,MAAM,YACNK,QAASlD,KAAKC,MAAMqD,cAJtB,eAOF,yBAAKvD,UAAU,YACb,kBAACkD,EAAA,EAAD,CACElD,UAAU,aACVoC,QAAQ,YACRU,MAAM,UACNK,QAASlD,KAAKC,MAAMsD,aAJtB,sB,GA7DElD,IAAMC,Y,oCC6CTkD,G,uLA3CX,OACE,yBAAKzD,UAAU,YACb,kBAACD,EAAA,EAAD,KACE,yBAAKC,UAAU,kBACb,yBAAKA,UAAU,iBACb,kBAAC0D,EAAA,EAAD,CAAapB,WAAS,GACpB,kBAACqB,EAAA,EAAD,CAAYC,GAAG,WAAf,WACA,kBAACC,EAAA,EAAD,CACEC,QAAQ,UACRC,aAAc9D,KAAKC,MAAM8D,oBACzBjB,SAAU9C,KAAKC,MAAM+D,iBAEpBhE,KAAKC,MAAMgE,eAAevC,KAAI,SAACwC,EAAQC,GACtC,OACE,kBAACC,EAAA,EAAD,CAAUjD,IAAKgD,EAAOlC,MAAOiC,GAASA,SAMhD,yBAAKnE,UAAU,iBACb,kBAAC0D,EAAA,EAAD,CAAapB,WAAS,GACpB,kBAACqB,EAAA,EAAD,CAAYC,GAAG,UAAf,UACA,kBAACC,EAAA,EAAD,CACEC,QAAQ,SACRC,aAAc9D,KAAKC,MAAMoE,mBACzBvB,SAAU9C,KAAKC,MAAMqE,gBAEpBtE,KAAKC,MAAMsE,cAAc7C,KAAI,SAACwC,EAAQC,GACrC,OACE,kBAACC,EAAA,EAAD,CAAUjD,IAAKgD,EAAOlC,MAAOiC,GAASA,gB,GAhCrC7D,IAAMC,YCYdkE,G,uLAdX,OACE,yBAAKzE,UAAU,QACb,kBAACD,EAAA,EAAD,KACE,yBAAKC,UAAU,cACb,gDAAqB,uBAAG0E,KAAK,8CAA8CC,OAAO,SAASC,IAAI,uBAA1E,UAArB,KACA,2CAAgB,uBAAGF,KAAK,qBAAqBC,OAAO,SAASC,IAAI,uBAAjD,yBAAhB,KACA,8CAAmB,uBAAGF,KAAK,6CAA6CG,MAAM,YAAYF,OAAO,SAASC,IAAI,uBAA3F,aAAnB,SAAuJ,uBAAGF,KAAK,4BAA4BG,MAAM,WAAWF,OAAO,SAASC,IAAI,uBAAzE,oBAAvJ,Y,GAROtE,IAAMC,YCJnBuE,EAAeC,OAAOD,cAAgBC,OAAOC,mBAsCpCC,E,WAnCb,aAAwB,IAAZC,EAAW,uDAAJ,GAAI,oBACrBjF,KAAKkF,QAAU,IAAIL,EACnB7E,KAAKmF,SAAWnF,KAAKkF,QAAQE,aAC7BpF,KAAKmF,SAASE,KAAKpD,MAAQ,EAC3BjC,KAAKmF,SAASG,QAAQtF,KAAKkF,QAAQK,aACnCvF,KAAKwF,QAAU,GACfxF,KAAKyF,UAAYR,EAAKQ,WAAa,GACnCzF,KAAK0F,gBAAkB1F,KAAKkF,QAAQQ,gBAAgB5D,KAAK9B,KAAKkF,S,iDAG3DvB,EAAIgC,GACiB,MAApB3F,KAAKwF,QAAQ7B,KAGjB3D,KAAKwF,QAAQ7B,GAAM3D,KAAKkF,QAAQU,qBAChC5F,KAAKwF,QAAQ7B,GAAIgC,OAASA,EAC1B3F,KAAKwF,QAAQ7B,GAAI2B,QAAQtF,KAAKmF,UAC9BnF,KAAKwF,QAAQ7B,GAAIkC,MAAM7F,KAAKkF,QAAQY,gB,4BAGhCnC,GACoB,MAApB3D,KAAKwF,QAAQ7B,KAGjB3D,KAAKwF,QAAQ7B,GAAIoC,KAAK/F,KAAKkF,QAAQY,YAAc9F,KAAKyF,kBAC/CzF,KAAKwF,QAAQ7B,M,iCAIpB,IAAK,IAAMA,KAAM3D,KAAKwF,QACpBxF,KAAKgG,MAAMrC,O,KCgBFsC,E,WAhDb,aAAe,oBACbjG,KAAKkG,OAAS,oE,+DAGGC,GACjB,IAAK,IAAIC,EAAID,EAAMxF,OAAS,EAAGyF,GAAK,IAAKA,EACvC,GAAwB,MAApBD,EAAME,OAAOD,GACf,OAAOD,EAAMG,UAAU,EAAGF,EAAI,GAIlC,OAAOD,I,6BAGFA,GACLA,EAAQA,EAAMI,QAAQ,mBAAoB,IAU1C,IARA,IAIIC,EAAMC,EAAMC,EACNC,EAAMC,EAAMC,EALhBC,GADNX,EAAQnG,KAAK+G,mBAAmBZ,IACZxF,OAAS,EAAI,EAE3BgF,EAAS,IAAIqB,YAAYF,GACzBG,EAAS,IAAIC,WAAWvB,GAG1BwB,EAAI,EAECf,EAAI,EAAGA,EAAIU,EAAOV,GAAK,EAM9BI,EALOxG,KAAKkG,OAAOkB,QAAQjB,EAAME,OAAOc,OAKxB,GAJhBR,EAAO3G,KAAKkG,OAAOkB,QAAQjB,EAAME,OAAOc,QAIV,EAC9BV,GAAgB,GAAPE,IAAc,GAJvBC,EAAO5G,KAAKkG,OAAOkB,QAAQjB,EAAME,OAAOc,QAIH,EACrCT,GAAgB,EAAPE,IAAa,GAJtBC,EAAO7G,KAAKkG,OAAOkB,QAAQjB,EAAME,OAAOc,OAMxCF,EAAOb,GAAKI,EACC,KAATI,IACFK,EAAOb,EAAI,GAAKK,GAEL,KAATI,IACFI,EAAOb,EAAI,GAAKM,GAIpB,OAAOf,M,uEC1BL0B,EAAoB,yBAAyB1G,OAiUpC2G,E,YA9Tb,WAAYrH,GAAQ,IAAD,8BACjB,4CAAMA,KACDsH,QAAU,IAAItB,EACnB,EAAKuB,aAAe,IAAIC,gBAAgB3C,OAAO4C,SAASC,QACxD,EAAKC,WAAa,CAChB,QAAWC,EACX,SAAYC,EACZ,KAAQC,EACR,GAAMC,EACN,OAAUC,GAEZ,EAAKhE,eAAiB,CAAC,QAAS,QAChC,EAAK7C,MAAQ,CACX,OAAS,EACT,OAAS,EACT,QAAW,EACX,SAAY,GACZ,YAAc,EACd,SAAY,GACZ,aAAgB,EAAKoG,aAAaU,IAAI,aAC+B,IAAnE,EAAKjE,eAAemD,QAAQ,EAAKI,aAAaW,IAAI,YAChD,EAAKX,aAAaW,IAAI,WACtB,QACJ,YAAe,EAAKX,aAAaU,IAAI,WACiB,MAApD,EAAKN,WAAW,EAAKJ,aAAaW,IAAI,WACpC,EAAKX,aAAaW,IAAI,UACtB,WAGN,EAAKC,UAAY,EAAKR,WAAW,EAAKxG,MAAMP,aAC5C,EAAKwH,kBAEL,EAAKC,aAAe,GAEpB,EAAKvH,YAAcA,EAlCF,E,iFAsCjBwH,SAASC,iBAAiB,UAAWxI,KAAKyI,UAAU3G,KAAK9B,OACzDuI,SAASC,iBAAiB,QAASxI,KAAK0I,QAAQ5G,KAAK9B,OACrDuI,SAASC,iBACP,mBACAxI,KAAK2I,mBAAmB7G,KAAK9B,S,6CAK/BuI,SAASK,oBAAoB,UAAW5I,KAAKyI,UAAU3G,KAAK9B,OAC5DuI,SAASK,oBAAoB,QAAS5I,KAAK0I,QAAQ5G,KAAK9B,OACxDuI,SAASK,oBACP,mBACA5I,KAAK2I,mBAAmB7G,KAAK9B,S,0CAK/B,IAAM6I,EAAU,CACd/D,OAAO4C,SAASoB,SAChB,KACAhE,OAAO4C,SAASqB,KAChBjE,OAAO4C,SAASsB,SAChB,IACAhJ,KAAKwH,aAAayB,YAClB/G,KAAK,IACP4C,OAAOoE,QAAQC,aAAa,CAAC,KAAQN,GAAU,GAAIA,K,wCAInD7I,KAAKoJ,WAAa,GADF,2BAEhB,YAAkBpJ,KAAKoI,UAAvB,+CAAkC,CAAC,IAAxB/G,EAAuB,+BAChC,YAAmBA,EAAnB,+CAAwB,CAAC,IAAdgI,EAAa,QACtBrJ,KAAKoJ,WAAWC,EAAK,IAAMA,EAAK,IAFF,oFAFlB,qF,yCASCC,GAGgB,YAA7Bf,SAASgB,kBACXvJ,KAAKwJ,OAAOC,WACZzJ,KAAK0J,SAAS,CAAC,SAAY,Q,gCAIrBJ,GAIR,GAHAA,EAAMK,iBAGD3J,KAAKoB,MAAMwI,MAAhB,CAIA,OAAQN,EAAMO,MACZ,IAAK,KAEH,YADA7J,KAAK+C,iBAEP,IAAK,KAEH,YADA/C,KAAKmD,eAEP,IAAK,KAEH,YADAnD,KAAKoD,gBAEP,IAAK,KAEH,YADApD,KAAKqD,gBAEP,IAAK,KAEH,YADArD,KAAKsD,eAEP,IAAK,KAEH,YADAtD,KAAKuD,cAKT,IAAI+F,EAAMQ,QAAyC,MAA/B9J,KAAKoJ,WAAWE,EAAMO,MAA1C,CAGA,IAAMA,EAAOP,EAAMO,KACbE,EAAO/J,KAAKoJ,WAAWS,GAlCd,EAmCc7J,KAAKoB,MAA3B4I,EAnCQ,EAmCRA,SAAUC,EAnCF,EAmCEA,SACjBA,EAASJ,IAAQ,EACb7J,KAAKoB,MAAM8I,YAAclK,KAAKoB,MAAMwI,OACtCI,EAASG,KAAKnK,KAAKe,YAAYgJ,IAEjC/J,KAAK0J,SAAS,CAACM,WAAUC,aACzBjK,KAAKwJ,OAAOY,KAAKL,EAAM/J,KAAKsI,aAAayB,UApCvC/J,KAAKqK,iB,8BAuCDf,GAEN,GADAA,EAAMK,kBACFL,EAAMQ,QAAyC,MAA/B9J,KAAKoJ,WAAWE,EAAMO,MAA1C,CAGA,IAAMA,EAAOP,EAAMO,KACbE,EAAO/J,KAAKoJ,WAAWS,GACtBI,EAAYjK,KAAKoB,MAAjB6I,SACPA,EAASJ,IAAQ,EACjB7J,KAAK0J,SAAS,CAACO,aACfjK,KAAKwJ,OAAOxD,MAAM+D,M,qCAGLT,GACb,GAAa,MAATA,EAKJtJ,KAAK0J,SAAS,CAAC,WAAcJ,EAAM5E,OAAO/B,cAL1C,CAAoB,IACXuH,EAAclK,KAAKoB,MAAnB8I,WACPlK,KAAK0J,SAAS,CAAC,YAAeQ,O,sCAOhC,GAAKlK,KAAKoB,MAAM8I,WAAhB,CADc,IAIPF,EAAYhK,KAAKoB,MAAjB4I,SACPA,EAASM,MACTtK,KAAK0J,SAAS,CAACM,gB,qCAIf,GAAKhK,KAAKoB,MAAM8I,WAAhB,CADa,IAINF,EAAYhK,KAAKoB,MAAjB4I,SACPA,EAASG,KAAK,KACdnK,KAAK0J,SAAS,CAACM,gB,sCAIf,GAAKhK,KAAKoB,MAAM8I,WAAhB,CADc,IAIPF,EAAYhK,KAAKoB,MAAjB4I,SACPA,EAASG,KAAK,MACdnK,KAAK0J,SAAS,CAACM,gB,qCAGD,IACTA,EAAYhK,KAAKoB,MAAjB4I,SACLA,EAAW,GACXhK,KAAK0J,SAAS,CAACM,e,oCAGF,IACNA,EAAYhK,KAAKoB,MAAjB4I,SACDO,EAAQhC,SAASiC,cAAc,YACrCjC,SAASkC,KAAKC,YAAYH,GAC1BA,EAAMtI,MAAQ+H,EAAS9H,KAAK,IAC5BqI,EAAMI,SACNpC,SAASqC,YAAY,QACrBrC,SAASkC,KAAKI,YAAYN,K,sCAGZjB,GACdtJ,KAAK0J,SAAS,CAAC,aAAgBJ,EAAM5E,OAAOzC,QAC5CjC,KAAKwH,aAAasD,IAAI,UAAWxB,EAAM5E,OAAOzC,OAC9CjC,KAAK+K,sB,qCAGQzB,GAEbtJ,KAAK0J,SAAS,CAAC,YAAeJ,EAAM5E,OAAOzC,QAC3CjC,KAAKwH,aAAasD,IAAI,SAAUxB,EAAM5E,OAAOzC,OAC7CjC,KAAK+K,oBAEL/K,KAAKoI,UAAYpI,KAAK4H,WAAW0B,EAAM5E,OAAOzC,OAC9CjC,KAAKqI,oB,qCAGS,IAAD,OAGbrI,KAAK0J,SAAS,CAAC,OAAS,IACxB1J,KAAKwJ,OAAS,IAAIxE,EAElB,kCAA8BgG,MAAK,YAEjC,IAFiE,IAAnB1C,EAAkB,UAC1D2C,EAAcC,OAAOC,KAAK7C,GAAc3H,OADkB,aAE3D,IAAMyK,EAAC,KACV,EAAK5B,OAAO9D,gBAAgB,EAAK6B,QAAQ8D,OACvC/C,EAAa8C,GAAG9E,UAAUe,KACzB,SAAC1B,GACF,EAAK2C,aAAa8C,GAAKzF,EAClB,EAAKvE,MAAMwI,OACd,EAAKF,SAAS,CACZ,QAAW4B,KAAKC,MAC0B,IAAxCL,OAAOC,KAAK,EAAK7C,cAAc3H,OAAesK,GAEhD,MAASC,OAAOC,KAAK,EAAK7C,cAAc3H,SAAWsK,QAV3D,MAAgBC,OAAOC,KAAK7C,GAA5B,eAA4C,S,+BAqB9C,OAAKtI,KAAKoB,MAAMyE,MAqBX7F,KAAKoB,MAAMwI,MAyBd,yBAAK7J,UAAU,OACb,kBAACyL,EAAA,EAAD,CAAWC,SAAS,MAClB,kBAAC,EAAD,CACE7J,OAAQ5B,KAAKoI,UACbhH,MAAOpB,KAAKoB,MAAM6I,SAClBpJ,YAAab,KAAKoB,MAAMP,YACxBC,aAAcd,KAAKoB,MAAMN,eAE3B,kBAAC,EAAD,CACEiC,eAAgB/C,KAAK+C,eAAejB,KAAK9B,MACzCqD,cAAerD,KAAKqD,cAAcvB,KAAK9B,MACvCmD,aAAcnD,KAAKmD,aAAarB,KAAK9B,MACrCoD,cAAepD,KAAKoD,cAActB,KAAK9B,MACvCsD,aAActD,KAAKsD,aAAaxB,KAAK9B,MACrCuD,YAAavD,KAAKuD,YAAYzB,KAAK9B,MACnCoB,MAAOpB,KAAKoB,MAAM4I,SAClBpH,QAAS5C,KAAKoB,MAAM8I,aAEtB,kBAAC,EAAD,CACElG,gBAAiBhE,KAAKgE,gBAAgBlC,KAAK9B,MAC3CsE,eAAgBtE,KAAKsE,eAAexC,KAAK9B,MACzC+D,oBAAqB/D,KAAKoB,MAAMN,aAChCmD,eAAgBjE,KAAKiE,eACrBI,mBAAoBrE,KAAKoB,MAAMP,YAC/B0D,cAAe2G,OAAOC,KAAKnL,KAAK4H,cAElC,kBAAC,EAAD,QAjDF,yBAAK7H,UAAU,OACb,kBAACyL,EAAA,EAAD,CAAWC,SAAS,MAClB,yBAAK1L,UAAU,WACb,kBAACD,EAAA,EAAD,KACE,yBAAKC,UAAU,iBACb,yBAAKA,UAAU,gBACb,kBAAC2L,EAAA,EAAD,OAEF,yBAAK3L,UAAU,gBACb,kBAAC2L,EAAA,EAAD,CACEvJ,QAAQ,cACRF,MAAOjC,KAAKoB,MAAMuK,QAClB9I,MAAM,oBAjCpB,yBAAK9C,UAAU,OACb,kBAACyL,EAAA,EAAD,CAAWC,SAAS,MAClB,yBAAK1L,UAAU,WACb,kBAACD,EAAA,EAAD,KACE,yBAAKC,UAAU,iBACb,yBAAKA,UAAU,gBACb,kBAACkD,EAAA,EAAD,CACEd,QAAQ,YACRU,MAAM,UACNK,QAASlD,KAAKqK,aAAavI,KAAK9B,OAHlC,oC,GAxPFK,IAAMC,WCTJsL,QACW,cAA7B9G,OAAO4C,SAASmE,UAEe,UAA7B/G,OAAO4C,SAASmE,UAEhB/G,OAAO4C,SAASmE,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASzD,SAAS0D,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcvC,MAAMoB,MAAK,SAAAoB,GACjCA,EAAaC,kB","file":"static/js/main.41b93d78.chunk.js","sourcesContent":["import React from 'react'\nimport notesDigits from './notesDigits.json'\nimport codesChars from './codesChars.json'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport './Map.css'\n\nclass Block extends React.Component {\n  render() {\n    return (\n      <Paper className={this.props.pressed ? \"grid grid-pressed\" : \"grid\"}>\n        <span className=\"grid-upper\">{this.props.upper}</span>\n        <br />\n        <span className=\"grid-lower\">{this.props.lower}</span>\n      </Paper>\n    )\n  }\n}\n\nclass Map extends React.Component {\n  renderBlock(block, y, x, length) {\n    let upper = codesChars[block[0]]\n    // Japanese are so strange, their key codes differ from characters...\n    if (this.props.layoutParam === 'jp') {\n      switch (block[0]) {\n        case 'Equal':\n          upper = '^'\n          break\n        case 'BracketLeft':\n          upper = '@'\n          break\n        case 'BracketRight':\n          upper = '['\n          break\n        case 'Quote':\n          upper = ':'\n          break\n        case 'Backslash':\n          upper = ']'\n          break\n        default:\n          break\n      }\n    }\n    const lower = this.props.displayParam === 'digit'\n      ? notesDigits[block[1]]\n      : block[1]\n    /**\n     * I know this is too long, this is too simple, and this is too stupid.\n     * But it is clear to see which key takes how much space.\n     * I can merge some same length key, but if one day they need to change,\n     * it is hard because I need to take them apart with copy & paste.\n     */\n    if (x === 0 && y === length - 1) {\n      if (this.props.layoutParam === 'hhkb') {\n        // Backquote.\n        return (\n          <Grid item xs={2} key={y}>\n            <Block\n              upper={upper}\n              lower={lower}\n              pressed={this.props.state[block[0]]}\n            />\n          </Grid>\n        )\n      } else {\n        // Backspace.\n        return (\n          <Grid item xs={4} key={y}>\n            <Block\n              upper={upper}\n              lower={lower}\n              pressed={this.props.state[block[0]]}\n            />\n          </Grid>\n        )\n      }\n    } else if (x === 1 && y === 0) {\n      // Tab.\n      return (\n        <Grid item xs={3} key={y}>\n          <Block\n            upper={upper}\n            lower={lower}\n            pressed={this.props.state[block[0]]}\n          />\n        </Grid>\n      )\n    } else if (x === 1 && y === length - 1) {\n      if (this.props.layoutParam === 'jp') {\n        // Enter.\n        return (\n          <Grid item xs={4} key={y}>\n            <Block\n              upper={upper}\n              lower={lower}\n              pressed={this.props.state[block[0]]}\n              />\n          </Grid>\n        )\n      } else {\n        // Backslash.\n        return (\n          <Grid item xs={3} key={y}>\n            <Block\n              upper={upper}\n              lower={lower}\n              pressed={this.props.state[block[0]]}\n            />\n          </Grid>\n        )\n      }\n    } else if (x === 2 && y === 0) {\n      // CapsLock.\n      return (\n        <Grid item xs={3} key={y}>\n          <Block\n            upper={upper}\n            lower={lower}\n            pressed={this.props.state[block[0]]}\n          />\n        </Grid>\n      )\n    } else if (x === 2 && y === length - 1) {\n      // Enter.\n      if (this.props.layoutParam === 'jp') {\n        return (\n          <Grid item xs={3} key={y}>\n            <Block\n              upper={upper}\n              lower={lower}\n              pressed={this.props.state[block[0]]}\n            />\n          </Grid>\n        )\n      } else {\n        return (\n          <Grid item xs={4} key={y}>\n            <Block\n              upper={upper}\n              lower={lower}\n              pressed={this.props.state[block[0]]}\n            />\n          </Grid>\n        )\n      }\n    } else if (x === 3 && y === 0) {\n      // ShiftLeft.\n      return (\n        <Grid item xs={3} key={y}>\n          <Block\n            upper={upper}\n            lower={lower}\n            pressed={this.props.state[block[0]]}\n          />\n        </Grid>\n      )\n    } else if (x === 3 && y === length - 1) {\n      // ShiftRight.\n      return (\n        <Grid item xs={4} key={y}>\n          <Block\n            upper={upper}\n            lower={lower}\n            pressed={this.props.state[block[0]]}\n          />\n        </Grid>\n      )\n    } else if (x === 4) {\n      // Space.\n      return (\n        <Grid item xs={6} key={y}>\n          <Block\n            upper={upper}\n            lower={lower}\n            pressed={this.props.state[block[0]]}\n          />\n        </Grid>\n      )\n    }\n    // Other digit, alpha and symbol.\n    return (\n      <Grid item xs={2} key={y}>\n        <Block\n          upper={upper}\n          lower={lower}\n          pressed={this.props.state[block[0]]}\n        />\n      </Grid>\n    )\n  }\n\n  renderRow(row, x) {\n    return (\n      <Grid container justify=\"center\" spacing={3} wrap=\"nowrap\" key={x}>\n        {row.map((block, y) => {\n          return this.renderBlock(block, y, x, row.length)\n        })}\n      </Grid>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"map\">\n        <Paper>\n          <div className=\"map-inner\">\n            {this.props.layout.map(this.renderRow.bind(this))}\n          </div>\n        </Paper>\n      </div>\n    )\n  }\n}\n\nexport default Map\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport Switch from '@material-ui/core/Switch'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport './Log.css'\n\nclass Log extends React.Component {\n  render() {\n    return (\n      <div className=\"log\">\n        <Paper>\n          <div className=\"log-inner\">\n            <div className=\"log-text\">\n              <TextField\n                value={`${this.props.state.join('')}_`}\n                variant=\"outlined\"\n                InputProps={{'readOnly': true}}\n                fullWidth\n                rows=\"8\"\n                multiline\n              />\n            </div>\n            <div className=\"log-buttons\">\n              <div className=\"log-item\">\n                <FormControlLabel\n                  control={\n                    <Switch\n                      className=\"log-button\"\n                      checked={this.props.enabled}\n                      color=\"primary\"\n                      onChange={this.props.onSwitchChange}\n                    />\n                  }\n                  label=\"Enable (F1)\"\n                />\n              </div>\n              <div className=\"log-item\">\n                <Button\n                  className=\"log-button\"\n                  variant=\"contained\"\n                  onClick={this.props.onSpaceClick}\n                >Space (F2)</Button>\n              </div>\n              <div className=\"log-item\">\n                <Button\n                  className=\"log-button\"\n                  variant=\"contained\"\n                  onClick={this.props.onReturnClick}\n                >Return (F3)</Button>\n              </div>\n              <div className=\"log-item\">\n                <Button\n                  className=\"log-button\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={this.props.onDeleteClick}\n                >Delete (F4)</Button>\n              </div>\n              <div className=\"log-item\">\n                <Button\n                  className=\"log-button\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={this.props.onClearClick}\n                >Clear (F5)</Button>\n              </div>\n              <div className=\"log-item\">\n                <Button\n                  className=\"log-button\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={this.props.onCopyClick}\n                >Copy (F6)</Button>\n              </div>\n            </div>\n          </div>\n        </Paper>\n      </div>\n    )\n  }\n}\n\nexport default Log\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport './Settings.css'\n\nclass Settings extends React.Component {\n  render() {\n    return (\n      <div className=\"settings\">\n        <Paper>\n          <div className=\"settings-inner\">\n            <div className=\"settings-item\">\n              <FormControl fullWidth>\n                <InputLabel id=\"display\">Display</InputLabel>\n                <Select\n                  labelId=\"display\"\n                  defaultValue={this.props.defaultDisplayValue}\n                  onChange={this.props.onDisplayChange}\n                >\n                  {this.props.displayOptions.map((option, index) => {\n                    return (\n                      <MenuItem key={index} value={option}>{option}</MenuItem>\n                    )\n                  })}\n                </Select>\n              </FormControl>\n            </div>\n            <div className=\"settings-item\">\n              <FormControl fullWidth>\n                <InputLabel id=\"layout\">Layout</InputLabel>\n                <Select\n                  labelId=\"layout\"\n                  defaultValue={this.props.defaultLayoutValue}\n                  onChange={this.props.onLayoutChange}\n                >\n                  {this.props.layoutOptions.map((option, index) => {\n                    return (\n                      <MenuItem key={index} value={option}>{option}</MenuItem>\n                    )\n                  })}\n                </Select>\n              </FormControl>\n            </div>\n          </div>\n        </Paper>\n      </div>\n    )\n  }\n}\n\nexport default Settings\n","import React from 'react'\nimport Paper from '@material-ui/core/Paper'\nimport './Info.css'\n\nclass Info extends React.Component {\n  render() {\n    return (\n      <div className=\"info\">\n        <Paper>\n          <div className=\"info-inner\">\n            <div>Star or fork on <a href=\"https://github.com/AlynxZhou/azpiano-react/\" target=\"_blank\" rel=\"noreferrer noopener\">GitHub</a>.</div>\n            <div>Welcome to <a href=\"https://alynx.one/\" target=\"_blank\" rel=\"noreferrer noopener\">Alynx Zhou's Homepage</a>.</div>\n            <div>Icons made by <a href=\"https://www.flaticon.com/authors/smartline\" title=\"Smartline\" target=\"_blank\" rel=\"noreferrer noopener\">Smartline</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\" target=\"_blank\" rel=\"noreferrer noopener\">www.flaticon.com</a>.</div>\n          </div>\n        </Paper>\n      </div>\n    )\n  }\n}\n\nexport default Info\n","const AudioContext = window.AudioContext || window.webkitAudioContext\n\nclass AudioPlayer {\n  constructor(opts = {}) {\n    this.context = new AudioContext()\n    this.gainNode = this.context.createGain();\n    this.gainNode.gain.value = 1\n    this.gainNode.connect(this.context.destination)\n    this.sources = {}\n    this.stopDelay = opts.stopDelay || 0.3\n    this.decodeAudioData = this.context.decodeAudioData.bind(this.context)\n  }\n\n  play(id, buffer) {\n    if (this.sources[id] != null) {\n      return\n    }\n    this.sources[id] = this.context.createBufferSource()\n    this.sources[id].buffer = buffer\n    this.sources[id].connect(this.gainNode)\n    this.sources[id].start(this.context.currentTime)\n  }\n\n  pause(id) {\n    if (this.sources[id] == null) {\n      return\n    }\n    this.sources[id].stop(this.context.currentTime + this.stopDelay)\n    delete this.sources[id]\n  }\n\n  pauseAll() {\n    for (const id in this.sources) {\n      this.pause(id)\n    }\n  }\n}\n\nexport default AudioPlayer\n","class Base64Decoder {\r\n  constructor() {\r\n    this.keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"\r\n  }\r\n\r\n  removePaddingChars(input) {\r\n    for (let i = input.length - 1; i >= 0; --i) {\r\n      if (input.charAt(i) !== '=') {\r\n        return input.substring(0, i + 1)\r\n      }\r\n    }\r\n    // input.length === 0\r\n    return input\r\n  }\r\n\r\n  decode(input) {\r\n    input = input.replace(/[^A-Za-z0-9+/=]/g, '')\r\n    input = this.removePaddingChars(input)\r\n    const bytes = input.length / 4 * 3\r\n\r\n    const buffer = new ArrayBuffer(bytes)\r\n    const uarray = new Uint8Array(buffer)\r\n    let chr1, chr2, chr3\r\n    let enc1, enc2, enc3, enc4\r\n    let j = 0\r\n\r\n    for (let i = 0; i < bytes; i += 3) {\r\n      enc1 = this.keyStr.indexOf(input.charAt(j++))\r\n      enc2 = this.keyStr.indexOf(input.charAt(j++))\r\n      enc3 = this.keyStr.indexOf(input.charAt(j++))\r\n      enc4 = this.keyStr.indexOf(input.charAt(j++))\r\n\r\n      chr1 = (enc1 << 2) | (enc2 >> 4)\r\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2)\r\n      chr3 = ((enc3 & 3) << 6) | enc4\r\n\r\n      uarray[i] = chr1;\r\n      if (enc3 !== 64) {\r\n        uarray[i + 1] = chr2\r\n      }\r\n      if (enc4 !== 64) {\r\n        uarray[i + 2] = chr3\r\n      }\r\n    }\r\n\r\n    return buffer\r\n  }\r\n}\r\n\r\nexport default Base64Decoder\r\n","import React from 'react'\nimport Map from './Map'\nimport Log from './Log'\nimport Settings from './Settings'\nimport Info from './Info'\nimport AudioPlayer from './AudioPlayer'\nimport Base64Decoder from './Base64Decoder'\nimport defaultLayout from './layouts/default.json'\nimport ctrlcapsLayout from './layouts/ctrlcaps.json'\nimport hhkbLayout from './layouts/hhkb.json'\nimport jpLayout from './layouts/jp.json'\nimport dvorakLayout from './layouts/dvorak.json'\nimport notesDigits from './notesDigits.json'\nimport './App.css'\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nconst OGG_HEADER_LENGTH = 'data:audio/ogg;base64,'.length\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.decoder = new Base64Decoder()\n    this.searchParams = new URLSearchParams(window.location.search)\n    this.mapLayouts = {\n      'default': defaultLayout,\n      'ctrlcaps': ctrlcapsLayout,\n      'hhkb': hhkbLayout,\n      'jp': jpLayout,\n      'dvorak': dvorakLayout\n    }\n    this.displayOptions = ['digit', 'note']\n    this.state = {\n      'start': false,\n      'ready': false,\n      'percent': 0,\n      'logState': [],\n      'logEnabled': true,\n      'mapState': {},\n      'displayParam': this.searchParams.has('display') &&\n        this.displayOptions.indexOf(this.searchParams.get('display')) !== -1\n        ? this.searchParams.get('display')\n        : 'digit',\n      'layoutParam': this.searchParams.has('layout') &&\n        this.mapLayouts[this.searchParams.get('layout')] != null\n        ? this.searchParams.get('layout')\n        : 'default'\n    }\n    // Don't use state to store layout, it's **async**!\n    this.mapLayout = this.mapLayouts[this.state.layoutParam]\n    this.updateMapLayout()\n\n    this.notesBuffers = {}\n\n    this.notesDigits = notesDigits\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown.bind(this))\n    document.addEventListener('keyup', this.onKeyUp.bind(this))\n    document.addEventListener(\n      'visibilitychange',\n      this.onVisibilityChange.bind(this)\n    )\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown.bind(this))\n    document.removeEventListener('keyup', this.onKeyUp.bind(this))\n    document.removeEventListener(\n      'visibilitychange',\n      this.onVisibilityChange.bind(this)\n    )\n  }\n\n  updateQueryString() {\n    const newPath = [\n      window.location.protocol,\n      '//',\n      window.location.host,\n      window.location.pathname,\n      '?',\n      this.searchParams.toString()\n    ].join('')\n    window.history.replaceState({'path': newPath}, '', newPath);\n  }\n\n  updateMapLayout() {\n    this.codesNotes = {}\n    for (const row of this.mapLayout) {\n      for (const grid of row) {\n        this.codesNotes[grid[0]] = grid[1]\n      }\n    }\n  }\n\n  onVisibilityChange(event) {\n    // Typically no keyup event is send when user switch tabs.\n    // So we clear state manually.\n    if (document.visibilityState !== 'visible') {\n      this.player.pauseAll()\n      this.setState({'mapState': {}})\n    }\n  }\n\n  onKeyDown(event) {\n    event.preventDefault()\n    // \"Press Any Key to Start\"!\n    // Ah, in fact, not any key.\n    if (!this.state.ready) {\n      this.onStartClick()\n      return\n    }\n    switch (event.code) {\n      case 'F1':\n        this.onSwitchChange()\n        return\n      case 'F2':\n        this.onSpaceClick()\n        return\n      case 'F3':\n        this.onReturnClick()\n        return\n      case 'F4':\n        this.onDeleteClick()\n        return\n      case 'F5':\n        this.onClearClick()\n        return\n      case 'F6':\n        this.onCopyClick()\n        return\n      default:\n        break\n    }\n    if (event.repeat || this.codesNotes[event.code] == null) {\n      return\n    }\n    const code = event.code\n    const note = this.codesNotes[code]\n    const {logState, mapState} = this.state\n    mapState[code] = true\n    if (this.state.logEnabled && this.state.ready) {\n      logState.push(this.notesDigits[note])\n    }\n    this.setState({logState, mapState})\n    this.player.play(note, this.notesBuffers[note])\n  }\n\n  onKeyUp(event) {\n    event.preventDefault()\n    if (event.repeat || this.codesNotes[event.code] == null) {\n      return\n    }\n    const code = event.code\n    const note = this.codesNotes[code]\n    const {mapState} = this.state\n    mapState[code] = false\n    this.setState({mapState})\n    this.player.pause(note)\n  }\n\n  onSwitchChange(event) {\n    if (event == null) {\n      const {logEnabled} = this.state\n      this.setState({'logEnabled': !logEnabled})\n      return\n    }\n    this.setState({'logEnabled': event.target.checked})\n  }\n\n  onDeleteClick() {\n    if (!this.state.logEnabled) {\n      return\n    }\n    const {logState} = this.state\n    logState.pop()\n    this.setState({logState})\n  }\n\n  onSpaceClick() {\n    if (!this.state.logEnabled) {\n      return\n    }\n    const {logState} = this.state\n    logState.push(' ')\n    this.setState({logState})\n  }\n\n  onReturnClick() {\n    if (!this.state.logEnabled) {\n      return\n    }\n    const {logState} = this.state\n    logState.push('\\n')\n    this.setState({logState})\n  }\n\n  onClearClick() {\n    let {logState} = this.state\n    logState = []\n    this.setState({logState})\n  }\n\n  onCopyClick() {\n    const {logState} = this.state\n    const dummy = document.createElement('textarea')\n    document.body.appendChild(dummy)\n    dummy.value = logState.join('')\n    dummy.select()\n    document.execCommand('copy')\n    document.body.removeChild(dummy)\n  }\n\n  onDisplayChange(event) {\n    this.setState({'displayParam': event.target.value})\n    this.searchParams.set('display', event.target.value)\n    this.updateQueryString()\n  }\n\n  onLayoutChange(event) {\n    // setState is only used for re-trigger rendering.\n    this.setState({'layoutParam': event.target.value})\n    this.searchParams.set('layout', event.target.value)\n    this.updateQueryString()\n    // Don't use state to update layout, it's **async**!\n    this.mapLayout = this.mapLayouts[event.target.value]\n    this.updateMapLayout()\n  }\n\n  onStartClick() {\n    // Oh I hate Chromium!\n    // Why I can only create AudioPlayer after user action?\n    this.setState({'start': true})\n    this.player = new AudioPlayer()\n    // Webpack trunked loading.\n    import('./notesBuffers.json').then(({'default': notesBuffers}) => {\n      const totalLength = Object.keys(notesBuffers).length\n      for (const k of Object.keys(notesBuffers)) {\n        this.player.decodeAudioData(this.decoder.decode(\n          notesBuffers[k].substring(OGG_HEADER_LENGTH)\n        ), (buffer) => {\n          this.notesBuffers[k] = buffer\n          if (!this.state.ready) {\n            this.setState({\n              'percent': Math.round(\n                Object.keys(this.notesBuffers).length * 100 / totalLength\n              ),\n              'ready': Object.keys(this.notesBuffers).length === totalLength\n            })\n          }\n        })\n      }\n    })\n  }\n\n  render() {\n    // So if user has gone to toliet,\n    // we need to wait, too.\n    if (!this.state.start) {\n      return (\n        <div className=\"app\">\n          <Container maxWidth=\"xl\">\n            <div className=\"loading\">\n              <Paper>\n                <div className=\"loading-inner\">\n                  <div className=\"loading-item\">\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={this.onStartClick.bind(this)}\n                    >Press Any Key to Start</Button>\n                  </div>\n                </div>\n              </Paper>\n            </div>\n          </Container>\n        </div>\n      )\n    }\n    if (!this.state.ready) {\n      return (\n        <div className=\"app\">\n          <Container maxWidth=\"xl\">\n            <div className=\"loading\">\n              <Paper>\n                <div className=\"loading-inner\">\n                  <div className=\"loading-item\">\n                    <LinearProgress />\n                  </div>\n                  <div className=\"loading-item\">\n                    <LinearProgress\n                      variant=\"determinate\"\n                      value={this.state.percent}\n                      color=\"secondary\"\n                    />\n                  </div>\n                </div>\n              </Paper>\n            </div>\n          </Container>\n        </div>\n      )\n    }\n    return (\n      <div className=\"app\">\n        <Container maxWidth=\"xl\">\n          <Map\n            layout={this.mapLayout}\n            state={this.state.mapState}\n            layoutParam={this.state.layoutParam}\n            displayParam={this.state.displayParam}\n          />\n          <Log\n            onSwitchChange={this.onSwitchChange.bind(this)}\n            onDeleteClick={this.onDeleteClick.bind(this)}\n            onSpaceClick={this.onSpaceClick.bind(this)}\n            onReturnClick={this.onReturnClick.bind(this)}\n            onClearClick={this.onClearClick.bind(this)}\n            onCopyClick={this.onCopyClick.bind(this)}\n            state={this.state.logState}\n            enabled={this.state.logEnabled}\n          />\n          <Settings\n            onDisplayChange={this.onDisplayChange.bind(this)}\n            onLayoutChange={this.onLayoutChange.bind(this)}\n            defaultDisplayValue={this.state.displayParam}\n            displayOptions={this.displayOptions}\n            defaultLayoutValue={this.state.layoutParam}\n            layoutOptions={Object.keys(this.mapLayouts)}\n          />\n          <Info />\n        </Container>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}